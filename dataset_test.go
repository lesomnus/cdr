package cdr_test

var dataset = []struct {
	desc  string
	value any
	bytes []byte
	debug bool
}{
	{
		desc:  "false",
		value: struct{ Data bool }{false},
		bytes: []byte{0x00, 0x00, 0x00, 0x00},
	},
	{
		desc:  "true",
		value: struct{ Data bool }{true},
		bytes: []byte{0x01, 0x00, 0x00, 0x00},
	},
	{
		desc:  "int8",
		value: struct{ Data int8 }{0x42},
		bytes: []byte{0x42, 0x00, 0x00, 0x00},
	},
	{
		desc:  "uint8",
		value: struct{ Data uint8 }{0x42},
		bytes: []byte{0x42, 0x00, 0x00, 0x00},
	},
	{
		desc:  "int16",
		value: struct{ Data int16 }{0x1234},
		bytes: []byte{0x34, 0x12, 0x00, 0x00},
	},
	{
		desc:  "uint16",
		value: struct{ Data uint16 }{0x1234},
		bytes: []byte{0x34, 0x12, 0x00, 0x00},
	},
	{
		desc:  "int32",
		value: struct{ Data int32 }{0x1234_5678},
		bytes: []byte{0x78, 0x56, 0x34, 0x12},
	},
	{
		desc:  "uint32",
		value: struct{ Data uint32 }{0x1234_5678},
		bytes: []byte{0x78, 0x56, 0x34, 0x12},
	},
	{
		desc:  "int64",
		value: struct{ Data int64 }{0x1234_5678_ABCD_EF01},
		bytes: []byte{
			0x01, 0xEF, 0xCD, 0xAB,
			0x78, 0x56, 0x34, 0x12,
		},
	},
	{
		desc:  "uint64",
		value: struct{ Data uint64 }{0x1234_5678_ABCD_EF01},
		bytes: []byte{
			0x01, 0xEF, 0xCD, 0xAB,
			0x78, 0x56, 0x34, 0x12,
		},
	},
	{
		desc:  "float32",
		value: struct{ Data float32 }{1.25},
		bytes: []byte{0x00, 0x00, 0xA0, 0x3F},
	},
	{
		desc:  "float64",
		value: struct{ Data float64 }{1.25},
		bytes: []byte{
			0x00, 0x00, 0x00, 0x00,
			0x00, 0x00, 0xF4, 0x3F,
		},
	},
	{
		desc:  "string",
		value: struct{ Data string }{"Royale with Cheese"},
		bytes: []byte{
			0x13, 0x00, 0x00, 0x00, // length=19
			'R', 'o', 'y', 'a',
			'l', 'e', ' ', 'w',
			'i', 't', 'h', ' ',
			'C', 'h', 'e', 'e',
			's', 'e', 0x00, 0x00,
		},
	},
	{
		desc: "[]bool",
		value: struct{ Data []bool }{
			Data: []bool{true, false, true},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x01, 0x00, 0x01, 0x00,
		},
	},
	{
		desc: "[]int8",
		value: struct{ Data []int8 }{
			Data: []int8{1, 2, 3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x01, 0x02, 0x03, 0x00,
		},
	},
	{
		desc: "[]uint8",
		value: struct{ Data []uint8 }{
			Data: []uint8{1, 2, 3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x01, 0x02, 0x03, 0x00,
		},
	},
	{
		desc: "[]int16",
		value: struct{ Data []int16 }{
			Data: []int16{1, 2, 3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x01, 0x00, 0x02, 0x00,
			0x03, 0x00, 0x00, 0x00,
		},
	},
	{
		desc: "[]uint16",
		value: struct{ Data []uint16 }{
			Data: []uint16{1, 2, 3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x01, 0x00, 0x02, 0x00,
			0x03, 0x00, 0x00, 0x00,
		},
	},
	{
		desc: "[]int32",
		value: struct{ Data []int32 }{
			Data: []int32{1, 2, 3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x01, 0x00, 0x00, 0x00,
			0x02, 0x00, 0x00, 0x00,
			0x03, 0x00, 0x00, 0x00,
		},
	},
	{
		desc: "[]uint32",
		value: struct{ Data []uint32 }{
			Data: []uint32{1, 2, 3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x01, 0x00, 0x00, 0x00,
			0x02, 0x00, 0x00, 0x00,
			0x03, 0x00, 0x00, 0x00,
		},
	},
	{
		desc: "[]int64",
		value: struct{ Data []int64 }{
			Data: []int64{1, 2, 3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x01, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x02, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x03, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
		},
	},
	{
		desc: "[]uint64",
		value: struct{ Data []uint64 }{
			Data: []uint64{1, 2, 3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x01, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x02, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x03, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
		},
	},
	{
		desc: "[]float32",
		value: struct{ Data []float32 }{
			Data: []float32{0.1, 0.2, 0.3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0xCD, 0xCC, 0xCC, 0x3D,
			0xCD, 0xCC, 0x4C, 0x3E,
			0x9A, 0x99, 0x99, 0x3E,
		},
	},
	{
		desc: "[]string",
		value: struct{ Data []string }{
			Data: []string{"Quarter", "Pounder", "Cheese"},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x08, 0x00, 0x00, 0x00,
			'Q', 'u', 'a', 'r',
			't', 'e', 'r', 0x00,
			0x08, 0x00, 0x00, 0x00,
			'P', 'o', 'u', 'n',
			'd', 'e', 'r', 0x00,
			0x07, 0x00, 0x00, 0x00,
			'C', 'h', 'e', 'e',
			's', 'e', 0x00, 0x00,
		},
	},
	{
		desc: "[]float64",
		value: struct{ Data []float64 }{
			Data: []float64{0.1, 0.2, 0.3},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x9A, 0x99, 0x99, 0x99,
			0x99, 0x99, 0xB9, 0x3F,
			0x9A, 0x99, 0x99, 0x99,
			0x99, 0x99, 0xC9, 0x3F,
			0x33, 0x33, 0x33, 0x33,
			0x33, 0x33, 0xD3, 0x3F,
		},
	},
	{
		desc: "[]struct",
		value: struct {
			Data []struct {
				A uint8
				B uint64
			}
		}{
			Data: []struct {
				A uint8
				B uint64
			}{
				{A: 0x01, B: 0x0203},
				{A: 0x04, B: 0x0506},
				{A: 0x07, B: 0x0809},
			},
		},
		bytes: []byte{
			0x03, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x01, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x03, 0x02, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x04, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x06, 0x05, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x07, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x09, 0x08, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
		},
	},
	{
		desc: "empty slices",
		value: struct {
			S8 []int64
			S1 []int8
		}{},
		bytes: []byte{
			0x00, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
		},
	},
	{
		desc: "align after slice length",
		value: struct {
			C    uint8
			Data []int64
		}{
			C:    0x42,
			Data: []int64{0x36},
		},
		bytes: []byte{
			0x42, 0x00, 0x00, 0x00,
			0x01, 0x00, 0x00, 0x00,
			0x36, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
		},
	},
	{
		desc: "nested struct",
		value: struct {
			A uint8
			B struct {
				C uint16
				D uint64
			}
		}{
			A: 0x01,
			B: struct {
				C uint16
				D uint64
			}{
				C: 0x0203,
				D: 0x0405_0607_0809_0A0B,
			},
		},
		bytes: []byte{
			0x01, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x03, 0x02, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00,
			0x0B, 0x0A, 0x09, 0x08,
			0x07, 0x06, 0x05, 0x04,
		},
	},
}
